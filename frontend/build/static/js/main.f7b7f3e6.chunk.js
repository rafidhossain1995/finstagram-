(this.webpackJsonpinstagram=this.webpackJsonpinstagram||[]).push([[0],{35:function(e,t,a){e.exports=a(70)},40:function(e,t,a){},41:function(e,t,a){},43:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(33),o=a.n(c),l=(a(40),a(41),a(2)),s=a(10),i=a.n(s),u=a(11),m=a(4),p=a(5),E=(a(43),a(13)),d=a.n(E),h=a(18),g=a.n(h),f=(a(63),Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_APIKEY:"AIzaSyD1_9NKxsJoloAdDPFA9Oe8bvyLCm7do7s",REACT_APP_AUTHDOMAIN:"instagram-clone-auth.firebaseapp.com",REACT_APP_DATABASEURL:"https://instagram-clone-auth.firebaseio.com",REACT_APP_PROJECTID:"instagram-clone-auth",REACT_APP_STORAGEBUCKET:"instagram-clone-auth.appspot.com",REACT_APP_MESSAGINGSENDERID:"562040533081",REACT_APP_APPID:"1:562040533081:web:1d68e56c91c44c4585c148",REACT_APP_MEASUREMENTID:"G-0K3ZKBZ54S"})),b={apiKey:f.REACT_APP_APIKEY,authDomain:f.REACT_APP_AUTHDOMAIN,databaseURL:f.REACT_APP_DATABASEURL,projectId:f.REACT_APP_PROJECTID,storageBucket:f.REACT_APP_STORAGEBUCKET,messagingSenderId:f.REACT_APP_MESSAGINGSENDERID,appId:f.REACT_APP_APPID,measurementId:f.REACT_APP_MEASUREMENTID};g.a.initializeApp(b);var A=g.a,v=function(){return A.auth().signOut()},j=function(e,t){return A.auth().signInWithEmailAndPassword(e,t)},O=function(e,t){return A.auth().createUserWithEmailAndPassword(e,t)},I=function(){return"localhost"===window.location.hostname?"http://localhost:3000":"https://ig-pursuit.herokuapp.com"};I();function P(){var e=Object(l.g)(),t=Object(n.useState)(""),a=Object(m.a)(t,2),c=a[0],o=a[1],s=Object(n.useState)(""),E=Object(m.a)(s,2),d=E[0],h=E[1],g=Object(n.useState)(!1),f=Object(m.a)(g,2);f[0],f[1];console.log(c,d);var b=function(){var t=Object(u.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,j(c,d);case 4:e.push("/home"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"main"},r.a.createElement("link",{rel:"stylesheet",href:"https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"instagram"},r.a.createElement("img",{src:"https://miro.medium.com/max/701/1*gbGs4B0o65vGY6AeruKCdw.jpeg",className:"ig-pic"})),r.a.createElement("div",{className:"instagram"},r.a.createElement("div",{className:"right-column text-center"},r.a.createElement("img",{src:"https://see.fontimg.com/api/renderfont4/YdKj/eyJyIjoiZnMiLCJoIjoxMzAsInciOjIwMDAsImZzIjo2NSwiZmdjIjoiIzAwMDAwMCIsImJnYyI6IiNGRkZGRkYiLCJ0IjoxfQ/Rmluc3RhZ3JhbQ/countryside.png",className:"ig-logo"}),r.a.createElement("p",{className:"description"},"Sign In To See Photo And Videos From Your Friends"),r.a.createElement("form",{onSubmit:b},r.a.createElement("div",{className:"form"},r.a.createElement("input",{type:"text",className:"form-control",value:c,placeholder:"Email",onChange:function(e){return o(e.currentTarget.value)}})),r.a.createElement("div",{className:"form"},r.a.createElement("input",{type:"password",className:"form-control",value:d,placeholder:"Password",onChange:function(e){return h(e.currentTarget.value)}})),r.a.createElement("input",{type:"submit",className:"btn btn-primary btn-block",placeholder:"signin"})),r.a.createElement("div",{className:"right-column-login text-center"},r.a.createElement(p.b,{to:"/",className:"button"},"New? Sign Up")))))))}a(69);var N=I(),S=function(){localStorage.clear();var e=Object(n.useState)(""),t=Object(m.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),s=Object(m.a)(o,2),E=s[0],h=s[1],g=Object(n.useState)(""),f=Object(m.a)(g,2),b=f[0],A=f[1],v=Object(n.useState)(""),j=Object(m.a)(v,2),I=j[0],P=j[1],S=Object(n.useState)(""),C=Object(m.a)(S,2),T=(C[0],C[1]);Object(l.g)();console.log(a,E,b);var _=function(){var e=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,O(a,b);case 4:return n=e.sent,e.next=7,d.a.post("".concat(N,"/users"),{id:n.user.uid,email:a,username:E,password:b});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(u.a)(i.a.mark((function e(t){var a,n,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files,(n=new FormData).append("file",a[0]),n.append("upload_preset","instagram_db"),n.append("cloud_name","dhlczyds5"),T(!0),e.next=8,fetch("https://api.cloudinary.com/v1_1/dhlczyds5/image/upload",{method:"Post",body:n});case 8:return r=e.sent,e.next=11,r.json();case 11:c=e.sent,P(c.secure_url),T(!1);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"main"},r.a.createElement("link",{rel:"stylesheet",href:"https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"instagram"},r.a.createElement("img",{src:"https://miro.medium.com/max/701/1*gbGs4B0o65vGY6AeruKCdw.jpeg",className:"ig-pic"})),r.a.createElement("div",{className:"instagram"},r.a.createElement("div",{className:"right-column text-center"},r.a.createElement("img",{src:"https://see.fontimg.com/api/renderfont4/YdKj/eyJyIjoiZnMiLCJoIjoxMzAsInciOjIwMDAsImZzIjo2NSwiZmdjIjoiIzAwMDAwMCIsImJnYyI6IiNGRkZGRkYiLCJ0IjoxfQ/Rmluc3RhZ3JhbQ/countryside.png",className:"ig-logo"}),r.a.createElement("p",{className:"description"},"Sign Up To See Photo And Videos From Your Friends"),r.a.createElement("div",{className:"sign-up-info"},r.a.createElement("form",{onClick:_},r.a.createElement("input",{type:"email",className:"form-control",placeholder:"Email",onChange:function(e){return c(e.currentTarget.value)}}),r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Username",onChange:function(e){return h(e.currentTarget.value)}}),r.a.createElement("input",{type:"password",className:"form-control",placeholder:"Password",onChange:function(e){return A(e.currentTarget.value)}}),r.a.createElement("input",Object.assign({type:"file",onInput:w},I)),r.a.createElement("input",{type:"submit",className:"btn btn-primary btn-block",placeholder:"signup"}))),r.a.createElement("p",{className:"terms-conditions"}," ","By signing up, you agree to our Terms and Policy")),r.a.createElement("div",{className:"right-column-login text-center"},r.a.createElement(p.b,{to:"/login",className:"button"},"Have An Account? SignIn"))))))},C=Object(n.createContext)(),T=function(e){var t=e.children,a=Object(n.useState)(!0),c=Object(m.a)(a,2),o=c[0],l=c[1],s=Object(n.useState)(null),i=Object(m.a)(s,2),u=i[0],p=i[1],E=Object(n.useState)(null),d=Object(m.a)(E,2),h=d[0],g=d[1],f=function(e){if(e){var t=e.email,a=e.id,n=e.metadata.lastLogin;p({email:t,lastLogin:n,id:a}),A.auth().currentUser.getIdToken(!1).then((function(e){g(e),l(!1)}))}else p(null),l(!1)};return Object(n.useEffect)((function(){return A.auth().onAuthStateChanged(f)}),[]),o?r.a.createElement("div",null,"...loading"):r.a.createElement(C.Provider,{value:{currentUser:u,token:h}},t)},_=function(){return r.a.createElement("h1",null,"hello")};function w(e){var t=Object(n.useContext)(C);return r.a.createElement("nav",null,r.a.createElement(p.c,{to:"/home"},"Home"),r.a.createElement(p.c,{to:"/users"},"Show All Users"),r.a.createElement("button",{onClick:v},"Logout"),t?r.a.createElement("button",{onClick:v},"logout"):r.a.createElement(r.a.Fragment,null,r.a.createElement(p.c,{to:"/signup"},"signup"),r.a.createElement(p.c,{to:"/login"},"login")))}var R=function(){return r.a.createElement("h1",null," Home Page")};function y(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],c=t[1],o=I(),l=Object(n.useContext)(C).token;return Object(n.useEffect)((function(){(function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d()({method:"get",url:"".concat(o,"/users/all"),headers:{AuthToken:l}});case 2:t=e.sent,c(t.data.users);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[o]),r.a.createElement("div",null,r.a.createElement("h1",null,"All USERS MUST BE LOGGED IN TO VIEW"),r.a.createElement("ul",null,a.map((function(e){return r.a.createElement("li",{key:e.id},e.email)}))))}var x=a(21),k=function(e){var t=e.children,a=Object(x.a)(e,["children"]),c=Object(n.useContext)(C).currentUser;return r.a.createElement(l.b,Object.assign({},a,{render:function(e){e.location;return c?r.a.createElement(l.a,{to:"/home"}):t}}))},D=function(e){var t=e.children,a=Object(x.a)(e,["children"]),c=Object(n.useContext)(C).currentUser;return r.a.createElement(l.b,Object.assign({},a,{render:function(e){e.location;return c?t:r.a.createElement(l.a,{to:"/login"})}}))};var U=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(T,null,r.a.createElement(w,null),r.a.createElement(l.d,null,r.a.createElement(k,{exact:!0,path:"/signup"},r.a.createElement(S,null)),r.a.createElement(k,{path:"/login"},r.a.createElement(P,null)),r.a.createElement(D,{path:"/users"},r.a.createElement(y,null)),r.a.createElement(l.b,{path:"/profile"},r.a.createElement(_,null)),r.a.createElement(l.b,{path:"/home"},r.a.createElement(R,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(p.a,null,r.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[35,1,2]]]);
//# sourceMappingURL=main.f7b7f3e6.chunk.js.map