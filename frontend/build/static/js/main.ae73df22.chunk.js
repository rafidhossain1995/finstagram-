(this.webpackJsonpinstagram=this.webpackJsonpinstagram||[]).push([[0],{34:function(e,t,a){},37:function(e,t,a){e.exports=a(76)},42:function(e,t,a){},43:function(e,t,a){},45:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(35),o=a.n(c),s=(a(42),a(43),a(4)),l=a(3),i=a.n(l),u=a(6),m=a(2),p=function(e){var t=Object(n.useState)(e),a=Object(m.a)(t,2),r=a[0],c=a[1];return{value:r,onChange:function(e){c(e.target.value)}}},d=a(7),E=(a(45),a(8)),f=a.n(E),h=a(16),b=a.n(h),g=(a(64),a(77),Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_APIKEY:"AIzaSyD1_9NKxsJoloAdDPFA9Oe8bvyLCm7do7s",REACT_APP_AUTHDOMAIN:"instagram-clone-auth.firebaseapp.com",REACT_APP_DATABASEURL:"https://instagram-clone-auth.firebaseio.com",REACT_APP_PROJECTID:"instagram-clone-auth",REACT_APP_STORAGEBUCKET:"instagram-clone-auth.appspot.com",REACT_APP_MESSAGINGSENDERID:"562040533081",REACT_APP_APPID:"1:562040533081:web:1d68e56c91c44c4585c148",REACT_APP_MEASUREMENTID:"G-0K3ZKBZ54S"})),v={apiKey:g.REACT_APP_APIKEY,authDomain:g.REACT_APP_AUTHDOMAIN,databaseURL:g.REACT_APP_DATABASEURL,projectId:g.REACT_APP_PROJECTID,storageBucket:g.REACT_APP_STORAGEBUCKET,messagingSenderId:g.REACT_APP_MESSAGINGSENDERID,appId:g.REACT_APP_APPID,measurementId:g.REACT_APP_MEASUREMENTID};b.a.initializeApp(v);var j=b.a.storage(),O=b.a,N=function(){return O.auth().signOut()},A=function(e,t){return O.auth().signInWithEmailAndPassword(e,t)},S=function(e,t){return O.auth().createUserWithEmailAndPassword(e,t)},C=function(){return"localhost"===window.location.hostname?"http://localhost:3006":"https://finstagram-clone-2020.herokuapp.com"};C();function w(){var e=Object(s.g)(),t=Object(n.useState)(""),a=Object(m.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(""),p=Object(m.a)(l,2),E=p[0],f=p[1],h=Object(n.useState)(!1),b=Object(m.a)(h,2);b[0],b[1];console.log(c,E);var g=function(){var t=Object(u.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,A(c,E);case 4:e.push("/home"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),alert("Username Or Password Is incorrect");case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"main"},r.a.createElement("link",{rel:"stylesheet",href:"https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"instagram"},r.a.createElement("img",{src:"https://miro.medium.com/max/701/1*gbGs4B0o65vGY6AeruKCdw.jpeg",className:"ig-pic"})),r.a.createElement("div",{className:"instagram"},r.a.createElement("div",{className:"right-column text-center"},r.a.createElement("img",{src:"https://see.fontimg.com/api/renderfont4/YdKj/eyJyIjoiZnMiLCJoIjoxMzAsInciOjIwMDAsImZzIjo2NSwiZmdjIjoiIzAwMDAwMCIsImJnYyI6IiNGRkZGRkYiLCJ0IjoxfQ/Rmluc3RhZ3JhbQ/countryside.png",className:"ig-logo"}),r.a.createElement("p",{className:"description"},"Sign In To See Photo And Videos From Your Friends"),r.a.createElement("form",{onSubmit:g},r.a.createElement("div",{className:"form"},r.a.createElement("input",{type:"text",className:"form-control",value:c,placeholder:"Email",onChange:function(e){return o(e.currentTarget.value)}})),r.a.createElement("div",{className:"form"},r.a.createElement("input",{type:"password",className:"form-control",value:E,placeholder:"Password",onChange:function(e){return f(e.currentTarget.value)}})),r.a.createElement("input",{type:"submit",className:"btn btn-primary btn-block",placeholder:"signin"})),r.a.createElement("div",{className:"right-column-login text-center"},r.a.createElement(d.b,{to:"/",className:"button"},"New? Sign Up")))))))}a(70);var I=Object(n.createContext)(),P=function(e){var t=e.children,a=Object(n.useState)(!0),c=Object(m.a)(a,2),o=c[0],s=c[1],l=Object(n.useState)(null),i=Object(m.a)(l,2),u=i[0],p=i[1],d=Object(n.useState)(null),E=Object(m.a)(d,2),f=E[0],h=E[1],b=function(e){if(e){var t=e.email,a=e.uid,n=e.metadata.lastLogin;p({email:t,lastLogin:n,id:a}),O.auth().currentUser.getIdToken(!1).then((function(e){h(e),s(!1)}))}else p(null),s(!1)};return Object(n.useEffect)((function(){return O.auth().onAuthStateChanged(b)}),[]),o?r.a.createElement("div",null,"...loading"):r.a.createElement(I.Provider,{value:{currentUser:u,token:f}},t)},y=C(),x=function(){localStorage.clear();var e=Object(n.useState)(""),t=Object(m.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),l=Object(m.a)(o,2),E=l[0],h=l[1],b=Object(n.useState)(""),g=Object(m.a)(b,2),v=g[0],O=g[1],N=Object(n.useState)(""),A=Object(m.a)(N,2),C=(A[0],A[1],Object(n.useState)("")),w=Object(m.a)(C,2),P=(w[0],w[1],Object(n.useState)(null)),x=Object(m.a)(P,2),_=x[0],T=x[1],k=(Object(s.g)(),p(""),Object(n.useState)([])),R=Object(m.a)(k,2),D=(R[0],R[1],Object(n.useContext)(I).currentUser,Object(n.useState)("")),U=Object(m.a)(D,2),M=(U[0],U[1],function(){var e=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,S(a,v);case 4:n=e.sent,j.ref("image/".concat(_.name)).put(_).on("state_changed",(function(){j.ref("image").child(_.name).getDownloadURL().then((function(e){console.log(e),f.a.post("".concat(y,"/users"),{id:n.user.uid,email:a,username:E,password:v,profile_pic:e})})).catch((function(e){console.log(e)}))})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}());return r.a.createElement("div",{className:"main"},r.a.createElement("link",{rel:"stylesheet",href:"https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"instagram"},r.a.createElement("img",{src:"https://miro.medium.com/max/701/1*gbGs4B0o65vGY6AeruKCdw.jpeg",className:"ig-pic"})),r.a.createElement("div",{className:"instagram"},r.a.createElement("div",{className:"right-column text-center"},r.a.createElement("img",{src:"https://see.fontimg.com/api/renderfont4/YdKj/eyJyIjoiZnMiLCJoIjoxMzAsInciOjIwMDAsImZzIjo2NSwiZmdjIjoiIzAwMDAwMCIsImJnYyI6IiNGRkZGRkYiLCJ0IjoxfQ/Rmluc3RhZ3JhbQ/countryside.png",className:"ig-logo"}),r.a.createElement("p",{className:"description"},"Sign Up To See Photo And Videos From Your Friends"),r.a.createElement("div",{className:"sign-up-info"},r.a.createElement("form",{onSubmit:M},r.a.createElement("input",{type:"email",className:"form-control",placeholder:"Email",onChange:function(e){return c(e.currentTarget.value)}}),r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Username",onChange:function(e){return h(e.currentTarget.value)}}),r.a.createElement("input",{type:"password",className:"form-control",placeholder:"Password",onChange:function(e){return O(e.currentTarget.value)}}),r.a.createElement("input",{className:"profile_pic",type:"file",onChange:function(e){e.target.files[0]&&T(e.target.files[0])}}),r.a.createElement("input",{type:"submit",className:"btn btn-primary btn-block",placeholder:"signup"}))),r.a.createElement("p",{className:"terms-conditions"}," ","By signing up, you agree to our Terms and Policy")),r.a.createElement("div",{className:"right-column-login text-center"},r.a.createElement(d.b,{to:"/login",className:"button"},"Have An Account? SignIn"))))))};a(71);function _(e){var t=Object(n.useContext)(I).currentUser;return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"Nav"},r.a.createElement("div",{className:"menu"},r.a.createElement("div",{className:"brand"},r.a.createElement("div",{className:"logo"},r.a.createElement("div",{className:"home-body"},r.a.createElement(d.c,{to:"/home",className:"instaLogo"},"Instagram"),t?r.a.createElement(r.a.Fragment,null,r.a.createElement(d.c,{to:"/home",className:"home"},"Home"),r.a.createElement(d.c,{to:"/profile",className:"profile"}),r.a.createElement("button",{onClick:N,className:"logout"},"Logout")):r.a.createElement(d.c,{to:"/login"},"Login")))))))}a(72),a(73),a(34);var T=function(e){var t=e.post_id,a={height:"50px",width:"250px",margintop:"5%"},c=C(),o=Object(n.useContext)(I).token,s=Object(n.useState)([]),l=Object(m.a)(s,2),p=l[0],d=l[1];Object(n.useEffect)((function(){(function(){var e=Object(u.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f()({method:"get",url:"".concat(c,"/comments/").concat(t),headers:{AuthToken:o}});case 2:a=e.sent,d(a.data.body.comments),console.log(a.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[c]);var E=p.map((function(e){return r.a.createElement("ul",{className:"ul",style:a},r.a.createElement("li",null,e.username,": ",e.content))}));return r.a.createElement("div",{className:"containerComments"},r.a.createElement("div",{className:"gallery"},r.a.createElement("div",{className:"gallery-item",tabIndex:"0"},r.a.createElement("div",{className:"gallery-image",key:"comment"},E))))},k=function(e){var t=e.post_id,a=C(),c=Object(n.useContext)(I).token,o=Object(n.useState)(""),s=Object(m.a)(o,2),l=s[0],p=s[1],d=function(){var e=Object(u.a)(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,f()({method:"post",url:"".concat(a,"/comments/").concat(t),data:{content:l},headers:{AuthToken:c}});case 3:e.sent,window.location.reload();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("form",{onSubmit:d},r.a.createElement("input",{type:"text",className:"comment-box",value:l,onChange:function(e){return p(e.target.value)}}),r.a.createElement("button",null,"Post Your Comment"))},R=function(e){var t=e.imageUrl,a=e.postContent,n=e.username,c=e.post_id;return r.a.createElement("div",{className:"pic"},r.a.createElement("div",{className:"picture"},r.a.createElement("h3",null,n),r.a.createElement("img",{className:"pix",src:t,style:{height:"75%",width:"75%",border:"2px solid black"}}),r.a.createElement("h4",null,a),r.a.createElement("div",{className:"iconz"},r.a.createElement("br",null),r.a.createElement(T,{post_id:c}))))},D=(a(74),function(){var e=C(),t=Object(n.useContext)(I),a=t.currentUser,c=t.token,o=Object(n.useState)([]),s=Object(m.a)(o,2),l=s[0],p=s[1],d=a.id;Object(n.useEffect)((function(){(function(){var t=Object(u.a)(i.a.mark((function t(){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f()({method:"get",url:"".concat(e,"/posts/").concat(d),headers:{AuthToken:c}});case 2:a=t.sent,p(a.data.payload),console.log(a.data);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]);var E=l.map((function(t){return r.a.createElement("div",{className:"showPostDiv"},r.a.createElement(R,{username:t.username,imageUrl:e+t.pictures,postContent:t.content,post_id:t.id}))}));return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"galleryDisplay"},r.a.createElement("div",{className:"gallery-item",tabIndex:"0"},r.a.createElement("div",{className:"galleryImage"},E))))}),U=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),s=Object(m.a)(o,2),l=(s[0],s[1],Object(n.useState)(0)),d=Object(m.a)(l,2),E=(d[0],d[1],Object(n.useState)("")),h=Object(m.a)(E,2),b=(h[0],h[1],p("")),g=Object(n.useState)([]),v=Object(m.a)(g,2),j=v[0],O=v[1],N=C(),A=Object(n.useContext)(I).token,S=Object(n.useContext)(I).currentUser,w=S.email,P=S.id;Object(n.useEffect)((function(){(function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f()({method:"get",url:"".concat(N,"/users/singleUser/").concat(w),headers:{AuthToken:A}});case 2:t=e.sent,c(t.data.user);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[N]);var y=function(){var e=Object(u.a)(i.a.mark((function e(t){var a,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),(a=new FormData).append("allImages",j),a.append("content",b.value),n={headers:{"content-type":"multipart/form-data"}},e.next=8,f.a.post("".concat(N,"/posts/").concat(P),a,n);case 8:r=e.sent,console.log(r.data),console.log("new post created"),window.location.reload(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"profileContainer"},r.a.createElement("div",{className:"profile-pic"},r.a.createElement("img",{src:a.profile_pic,className:"profile-img"})),r.a.createElement("h1",{className:"profile-user-name"},a.username),r.a.createElement("form",{onSubmit:y,className:"profileUserSettings"},r.a.createElement("h1",{className:"postPicsHere"},"Post Your Pictures Here!"),r.a.createElement("input",{className:"file",placeholder:"hello",type:"file",onChange:function(e){e.preventDefault(),O(e.target.files[0])}}),r.a.createElement("input",Object.assign({placeholder:"Enter Caption",className:"content",type:"text"},b)),r.a.createElement("button",{type:"submit",className:"btn profile-edit-btn"},"Add Picture")),r.a.createElement("div",{className:"profile-stats"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("span",{className:"profile-stat-count"},"164")," posts"),r.a.createElement("li",null,r.a.createElement("span",{className:"profile-stat-count"},"188")," followers"),r.a.createElement("li",null,r.a.createElement("span",{className:"profile-stat-count"},"206")," following")),r.a.createElement("div",{className:"profile-content"},r.a.createElement("h2",null,r.a.createElement("span",{className:"profile-real-name"},"Welcome To")," ",a.username,"'s finstagram account!")),r.a.createElement(D,null)))},M=(a(75),function(e){var t=e.homeImageUrl,a=e.postContent,n=e.username,c=e.post_id;return r.a.createElement("div",{className:"homePic"},r.a.createElement("div",{className:"picture"},r.a.createElement("h3",null,n),r.a.createElement("img",{className:"profilePictureImage",src:t,style:{height:"75%",width:"75%",border:"2px solid black"}}),r.a.createElement("h2",null,a),r.a.createElement("div",{className:"iconz"},r.a.createElement("br",null),r.a.createElement(T,{post_id:c}),r.a.createElement(k,{post_id:c}))))}),L=function(){var e=C(),t=Object(n.useContext)(I),a=(t.currentUser,t.token),c=Object(n.useState)([]),o=Object(m.a)(c,2),s=o[0],l=o[1],p=Object(n.useState)([]),d=Object(m.a)(p,2);d[0],d[1];Object(n.useEffect)((function(){(function(){var t=Object(u.a)(i.a.mark((function t(){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f()({method:"get",url:"".concat(e,"/posts/"),headers:{AuthToken:a}});case 2:n=t.sent,l(n.data.payload),console.log(n.data);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]);var E=s.map((function(t){return r.a.createElement(r.a.Fragment,null,t.username,r.a.createElement(M,{homeImageUrl:e+t.pictures,postContent:t.content,post_id:t.id}))}));return r.a.createElement("div",null,r.a.createElement("h1",null," Look at your friend's Posts "),E)};function G(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],c=t[1],o=C(),s=Object(n.useContext)(I).token;return Object(n.useEffect)((function(){(function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f()({method:"get",url:"".concat(o,"/users/all"),headers:{AuthToken:s}});case 2:t=e.sent,c(t.data.users);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[o]),r.a.createElement("div",null,r.a.createElement("h1",null,"All USERS MUST BE LOGGED IN TO VIEW"),r.a.createElement("ul",null,a.map((function(e){return r.a.createElement("li",{key:e.id},e.email)}))))}var J=a(22),K=function(e){var t=e.children,a=Object(J.a)(e,["children"]),c=Object(n.useContext)(I).currentUser;return r.a.createElement(s.b,Object.assign({},a,{render:function(e){e.location;return c?r.a.createElement(s.a,{to:"/home"}):t}}))},Y=function(e){var t=e.children,a=Object(J.a)(e,["children"]),c=Object(n.useContext)(I).currentUser;return r.a.createElement(s.b,Object.assign({},a,{render:function(e){e.location;return c?t:r.a.createElement(s.a,{to:"/login"})}}))};var B=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(P,null,r.a.createElement(_,null),r.a.createElement(s.d,null,r.a.createElement(K,{exact:!0,path:"/"},r.a.createElement(x,null)),r.a.createElement(K,{path:"/login"},r.a.createElement(w,null)),r.a.createElement(Y,{path:"/users"},r.a.createElement(G,null)),r.a.createElement(Y,{path:"/profile"},r.a.createElement(U,null)),r.a.createElement(Y,{path:"/home"},r.a.createElement(L,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(d.a,null,r.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[37,1,2]]]);
//# sourceMappingURL=main.ae73df22.chunk.js.map